"use strict";var app=angular.module("SbManifest");app.controller("reportCtrl",(function($scope,$state,$window,apiService,config){function getProductList(){var params={},url=config.manifestApi+"/dashboard/product";apiService.getData(url,params,!0).then((function(data){$scope.productList=data.DataList;var chart1=getDoughnutChart($scope.productList,"Product","BackgroundColor","Number","Jumps"),ctx1=document.getElementById("loadsChart").getContext("2d"),chart1=new Chart(ctx1,chart1),chart2=getDoughnutChart($scope.productList,"Product","BackgroundColor","Profit","Income"),ctx2=document.getElementById("profitChart").getContext("2d"),chart2=new Chart(ctx2,chart2);sum()}))}function sum(){angular.forEach($scope.productList,(function(value,key){$scope.loads=$scope.loads+value.Number,$scope.profit=$scope.profit+value.Profit}))}$scope.loads=0,$scope.profit=0;var meseci,labels1,labels2,obiskiLData=getLineChart(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"Jumps",[0,10,30,130,1300,2345,1800,1950,1500,855,0,0],"Profit",[0,910,930,4130,4300,8345,7800,6950,4500,3955,0,0],"Income/Jumps/Month"),ctxLObiski=document.getElementById("lineChart").getContext("2d"),chartL=new Chart(ctxLObiski,obiskiLData);$scope.init=function(){getProductList()}}));