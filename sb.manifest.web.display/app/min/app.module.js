"use strict";var app=angular.module("SbManifest",["ui.router","ngMaterial","ngMessages"]);app.run((function($state,$rootScope,$mdDialog,apiService,config){apiService.getData(config.manifestApi+"/server/time",null,!1).then((function(data){$rootScope.newDateServerTime=new Date(data)-new Date,console.log("Server time "+new Date(data)),console.log("Time diff from server in miliseconds "+$rootScope.newDateServerTime)})),$rootScope.getDate=function(){var copiedDate=new Date;return new Date(copiedDate.getTime()+$rootScope.newDateServerTime)},$rootScope.getTimeDiffInMInutes=function(date){var copiedDate=new Date,now=new Date(copiedDate.getTime()+$rootScope.newDateServerTime),scheduled,diff=new Date(date)-now;return Math.floor(diff/6e4)},window.myAppErrorLog=[],$state.defaultErrorHandler((function(error){window.myAppErrorLog.push(error)})),$rootScope.showDialog=function(title,message){$mdDialog.show($mdDialog.alert().parent(angular.element(document.querySelector("#main"))).clickOutsideToClose(!0).title(title).textContent(message).ariaLabel("Alert Dialog").ok("close"))},null===sessionStorage.getItem("Authorization")&&$state.go("prijava")}));